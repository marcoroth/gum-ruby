#!/usr/bin/env ruby
# frozen_string_literal: true

require "bundler/setup"
require "gum"

puts "=== Pager Demo ==="
puts "Press q to quit, / to search"
puts

# View README
readme_path = File.expand_path("../README.md", __dir__)

if File.exist?(readme_path)
  puts "Viewing README.md:"
  Gum.pager(File.read(readme_path))
else
  # Generate some content
  content = (1..100).map { |i| "Line #{i}: " + ("x" * ((i % 50) + 10)) }.join("\n")
  puts "Viewing generated content:"
  Gum.pager(content)
end
puts

# With line numbers
puts "Now with line numbers:"
content = File.read(File.expand_path("../lib/gum.rb", __dir__))
Gum.pager(content, show_line_numbers: true)
